<!DOCTYPE html> 
<html>
<head> 
		<title>Into the matrix with Travis CI - Vacuum - Edward Vielmetti</title> 
	</head>
<body>


<h2>Vacuum weblog E. Vielmetti</h2>


<h3>
<a href="http://vielmetti.github.io/books/">books</a>
<a href="http://vielmetti.github.io/code/">code</a>
<a href="http://vielmetti.github.io/recipes/">recipes</a>
<a href="http://vielmetti.github.io/people/">people</a>
<a href="http://vielmetti.github.io/cities/">cities</a>
<a href="http://vielmetti.github.io/maps/">maps</a>
<a href="http://vielmetti.github.io/annarbor/">Ann Arbor</a>
<a href="http://vielmetti.github.io/categories/">categories</a>
<a href="http://vielmetti.github.io/keyphrases/">keyphrases</a>
</h3>




<h5>nature abhors a vacuum</h5>


<table>
<tr>
	

<td width="5%"></td>


<td width="30%" valign="top">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>Vacuum weblog from Edward Vielmetti</h1>
      <p class="lead">
       Tracking the comings and goings of @vielmetti 
      </p>
    </div>

    <h3><a href="http://vielmetti.github.io/">Home</a> </h3>
    <ul class="sidebar-nav">
      
        <li><a href="http://vielmetti.github.io/post/2015/2015-07-14-publishing-from-hugo-to-github-pages"> Publishing from Hugo to Github Pages </a></li>
      
    </ul>

    <h3 class="panel-title">Recent Posts</h3> 
    <ul class="sidebar-recent">
	 
	<li><a href="http://vielmetti.github.io/post/2015/2015-11-01-slack-vs-irc" class="list-group-item">Slack vs IRC</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-10-31-ann-arbor-city-planning-commission" class="list-group-item">Ann Arbor City Planning Commission Executive Committee meetings</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-10-30-cubicsdr" class="list-group-item">CubicSDR, a cross-platform software defined radio</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-10-30-the-aaata-microapi" class="list-group-item">The AAATA MicroAPI</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-10-30-sudo-port-upgrade-outdated" class="list-group-item">sudo port upgrade outdated</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-10-29-diligence" class="list-group-item">Diligence</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-10-21-over-the-top-networks" class="list-group-item">Over the top networks</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-10-14-the-state-of-the-city" class="list-group-item">The state of the city, Ann Arbor, fall 2015</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-22-august-2015-food-inspections" class="list-group-item">August 2015 food inspections for Washtenaw County</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-22-git-squash" class="list-group-item">How to squash a commit in git</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-22-snap-ci" class="list-group-item">Snap CI</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-20-aws-dynamodb-downtime-sunday-am" class="list-group-item">AWS DynamoDB downtime, Sunday am, September 20, 2015</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-16-travis-ci" class="list-group-item">Into the matrix with Travis CI</a></li>
         
	<li><a href="http://vielmetti.github.io/sidebar/todo" class="list-group-item">todo</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-14-zenos-inbox" class="list-group-item">Zeno&#39;s Inbox</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-14-old-code-and-old-tools" class="list-group-item">Old code and old tools</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-14-writing-up-your-tweets" class="list-group-item">Writing up your tweets</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-11-bluetooth-bluez-inside-docker" class="list-group-item">Bluetooth and bluez inside Docker</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-10-xml2json" class="list-group-item">xml2json as part of a web parsing pipeline</a></li>
         
	<li><a href="http://vielmetti.github.io/post/2015/2015-09-07-managing-raspberry-pi-openvpn-with-salt" class="list-group-item">Managing a Raspberry Pi OpenVPN with Salt</a></li>
        
    </ul>

    <div class="sidebar-calendar">
	
    </div>

    <div class="sidebar-todo">
	
    </div>

    <div class="sidebar-blogroll">
	
    </div>

    <p>&copy; 2015. All rights reserved. </p>
  </div>
</div>

</td>


<td width="5%" valign="top"></td>


<td width="55%" valign="top" halign="right">
		<h3>16 September 2015</h3>
		<h1>Into the matrix with Travis CI</h1> 
		

<p>Travis CI is a continuous integration tool, a description which means nothing
to people who have never used it. &ldquo;Continuous integration&rdquo; is one of these
industry phrases that doesn&rsquo;t serve to illuminate the problem that it describes.</p>

<p>Why would you care? Well, you&rsquo;re working on a project with a bunch of other
people, and it&rsquo;s kind of complicated. It might depend on some
<a href="http://vielmetti.github.io/post/2015/2015-09-14-old-code-and-old-tools/">old code</a>
that&rsquo;s fragile and should be tested all the time when it changes, or it might depend
some brand-spanking new code that doesn&rsquo;t quite work and you know it
doesn&rsquo;t work yet but you want the test system to be less tedious.</p>

<p>What else looks like this?</p>

<ul>
<li><a href="https://circleci.com/">CircleCI</a></li>
<li><a href="https://snap-ci.com/">Snap CI</a> by ThoughtWorks</li>
<li><a href="https://www.solanolabs.com/">Solano</a></li>
<li><a href="http://www.appveyor.com/">Appveyor</a> (for Windows)</li>
<li>Jenkins (self hosted)</li>
</ul>

<p>What does this look like from a workflow perspective? Every time you check in a
file, the whole system builds, and all of the tests you have configured run.
With proper configuration you can build a matrix of versions or configurations
to test, so instead of a test running on a single system it can run on
3x3 or 2x4 or even 3x5x2 configurations.</p>

<h3 id="ruby:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Ruby</h3>

<p>Travis CI&rsquo;s default langauge is Ruby, and a lot of its tooling is written
in Ruby, so its Ruby support is quite good.</p>

<p>Need a bunch of versions of Ruby? Use <code>rvm</code>.</p>

<ul>
<li><a href="http://docs.travis-ci.com/user/languages/ruby/">Building a Ruby Project, Travis CI</a></li>
</ul>

<h3 id="c-and-c:3a8a8bf475b0a53c2eff0d60f4a1b9bf">C and C++</h3>

<p>The version of gcc and g++ on the default systems is 4.6, and you can
pull in 4.8 through &lsquo;apt&rsquo;, but you currently have to pick up 4.8 through
the <code>ubuntu-toolchain-r-test</code> source and not simply by picking a gcc version.</p>

<ul>
<li><a href="https://github.com/rla/fast-feed/blob/master/.travis.yml">rla/fast-feed/.travis.yml</a></li>
</ul>

<h3 id="go-golang:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Go (golang)</h3>

<p>Go (golang) has not gone through a lot of versions yet, and its latest 1.5
build is written in Go. Because the language is so young, there is not lots
of old code to port, and thus not too many version dependencies in libraries
to worry about yet.</p>

<p>Testing two versions of Go (golang) plus Linux and Mac is easy, and the
configuration file doesn&rsquo;t have to do anything funky.</p>

<ul>
<li><a href="https://github.com/miekg/mmark/fast-feed/blob/master/.travis.yml">miekg/mmark/.travis.yml</a></li>
</ul>

<h3 id="nodejs:3a8a8bf475b0a53c2eff0d60f4a1b9bf">NodeJS</h3>

<p>Node 4.0 is new, and the source currently of a fair bit of porting efforts as
a lot of things have broken not in the language but in its libraries. Fortunately,
the nodejs and iojs split has been reconciled, but unfortunately there&rsquo;s about
six months of reunification work to be done.</p>

<p>If you are porting or building to NodeJS 4.0, you have to drag in gcc 4.8. Previous
versions of gcc/g++ aren&rsquo;t capable of coping with the C++11 constructs that are
in V8 and (especially) in <code>nan</code>.</p>

<p>NodeJS 4.0 on Mac? In addition to gcc 4.8, you have to drag in nvm.
The approachable way is to pull in the source from Github that lives
at <code>https://github.com/creationix/nvm.git</code>, build it, and then use the
thing that you just built to subsequently pull in the right version of Node.</p>

<ul>
<li><a href="https://github.com/rla/fast-feed/blob/master/.travis.yml">rla/fast-feed/.travis.yml</a></li>
<li><a href="https://github.com/sass/node-sass/blob/master/.travis.yml">sass/node-sass/.travis.yml</a></li>
</ul>

<h3 id="python:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Python</h3>

<p>Python 2 and Python 3 are both available on Travis CI, including even
the latest Python 3.5.</p>

<p>If you need three versions of Python plus three versions of Django:
use &lsquo;env&rsquo; to drive &lsquo;pip&rsquo;, and &lsquo;matrix&rsquo; to skip some builds where you
know that the combinations don&rsquo;t work.</p>

<ul>
<li>(datadesk/django-softhyphen)</li>
</ul>

<p>Lots and lots of Python versions, with different dependencies for
each version? The <code>tornado</code> package has that.</p>

<ul>
<li>(tornadoweb/tornado)</li>
</ul>

<p>Looking to test Django plus Postgres?</p>

<ul>
<li>(<a href="http://blog.schwuk.com/2014/06/13/using-travis-ci-for-testing-django-projects/">http://blog.schwuk.com/2014/06/13/using-travis-ci-for-testing-django-projects/</a>)</li>
</ul>

<h3 id="java:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Java</h3>

<p>Java is supported.</p>

<p>If you need Java 8 in a particular version, see the below issue on Github Issues.</p>

<ul>
<li><a href="https://github.com/travis-ci/travis-ci/issues/4042">Java 8 version update and bug</a>,
Github issues.</li>
</ul>

<h3 id="fortran:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Fortran</h3>

<p>If you&rsquo;re building scientific codes, Fortran is available through the <code>apt</code>
mechanism.</p>

<h3 id="prolog:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Prolog</h3>

<p>Prolog? Bring it in with apt-add-repository and apt-get. This is illustrative
of Travis CI&rsquo;s ability to incorporate nearly any language, since you can install
new compilers and interpreters via package systems and then run them.</p>

<ul>
<li>(rla/simple-template)</li>
</ul>

<h3 id="multiple-langauges:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Multiple langauges</h3>

<p>Two versions of Go plus Python plus an external dependency that&rsquo;s being flaky?
Use <code>language: python</code> because it&rsquo;s easier to install <code>go</code> from package
managers than it is to drag in the whole complex python multi-version infrastructure
from scratch.</p>

<ul>
<li>(miekg/mmark, in progress)</li>
</ul>

<h3 id="os-x:3a8a8bf475b0a53c2eff0d60f4a1b9bf">OS X</h3>

<p>Use &lsquo;osx_image&rsquo; to tweak the version of &lsquo;osx&rsquo; that you get.</p>

<ul>
<li>(<a href="http://docs.travis-ci.com/user/osx-ci-environment/">http://docs.travis-ci.com/user/osx-ci-environment/</a>)</li>
<li>(<a href="http://blog.travis-ci.com/2015-09-09-xcode7-gm/">http://blog.travis-ci.com/2015-09-09-xcode7-gm/</a>)</li>
</ul>

<h3 id="both-linux-and-mac-in-general:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Both Linux and Mac, in general</h3>

<p>Go is easy. (miekg/mmark)</p>

<p>Node requires bringing in nvm and gcc 4.8. (rla/fastfeed)</p>

<p>Python &hellip; (don&rsquo;t know)</p>

<p>Prolog &hellip; (don&rsquo;t know)</p>

<p>Ruby &hellip; (should work pretty well, but not tested)</p>

<h2 id="acknowledgements:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Acknowledgements</h2>

<p>Thanks to the following people for their help: Raivo Laanemets (@RaivoL),
Mohan Kartha (@mckartha), Chris Dzombak (@cdzombak), &hellip;</p>
 
</td>


<td width="5%" valign="top"></td>

</tr>
</table>


<h3>Notes afterwards</h3>
	<p>
	Recreating more or less my original layout, but with 
	dynamically loaded content. I guess that could work!
	</p>
	<p>
<a title="Real Time Analytics" href="http://clicky.com/100880293"><img alt="Real Time Analytics" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>
<script src="//static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">try{ clicky.init(100880293); }catch(e){}</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100880293ns.gif" /></p></noscript>
</p>

</body>
</html> 
