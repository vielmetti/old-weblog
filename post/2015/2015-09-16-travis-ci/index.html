<!DOCTYPE html>
<html lang="en-us">
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" Into the matrix with Travis CI &middot;  Vacuum weblog from Edward Vielmetti" />
  	<meta property="og:site_name" content="Vacuum weblog from Edward Vielmetti" />
  	<meta property="og:url" content="http://vielmetti.github.io/post/2015/2015-09-16-travis-ci/" />
    
    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2015-09-16T09:22:00-04:00" />

    
    

  <title>
     Into the matrix with Travis CI &middot;  Vacuum weblog from Edward Vielmetti
  </title>

    <meta name="description" content="Tracking the comings and goings of @vielmetti" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="http://vielmetti.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="http://vielmetti.github.io/images/apple-touch-icon.png" />
    
    <link rel="stylesheet" type="text/css" href="http://vielmetti.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />


    
      
          <link href="http://vielmetti.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Vacuum weblog from Edward Vielmetti" />
      
      
    
    <meta name="generator" content="Hugo 0.15" />

    <link rel="canonical" href="http://vielmetti.github.io/post/2015/2015-09-16-travis-ci/" />

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://vielmetti.github.io/post/2016/2016-05-23-day-trips-from-ann-arbor/">Day trips from Ann Arbor</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://vielmetti.github.io/post/2011/2011-06-09-power-outage-maps/">Power outage maps for all 50 states plus as many other countries as I can find</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://vielmetti.github.io/post/2015/2015-07-14-publishing-from-hugo-to-github-pages/">Publishing from Hugo to Github Pages</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://vielmetti.github.io/post/2015/2015-11-01-slack-vs-irc/">Slack vs IRC</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://vielmetti.github.io/post/2014/2014-04-04-tune-in-to-skywarn-nets-in-50-states-when-severe-weather-threatens/">Tune in to Skywarn nets in 50 states when severe weather threatens</a>
            </li>
        
    </ul>
    
    
    <a class="subscribe-button icon-feed" href="http://vielmetti.github.io/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">



<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Into the matrix with Travis CI</h1>
        <section class="post-meta">
        
          <time class="post-date" datetime="2015-09-16T09:22:00-04:00">
            Sep 16, 2015
          </time>
        
         
        </section>
    </header>
  
    <section class="post-content">
      

<p>Travis CI is a continuous integration tool, a description which means nothing
to people who have never used it. &ldquo;Continuous integration&rdquo; is one of these
industry phrases that doesn&rsquo;t serve to illuminate the problem that it describes.</p>

<p>Why would you care? Well, you&rsquo;re working on a project with a bunch of other
people, and it&rsquo;s kind of complicated. It might depend on some
<a href="http://vielmetti.github.io/post/2015/2015-09-14-old-code-and-old-tools/">old code</a>
that&rsquo;s fragile and should be tested all the time when it changes, or it might depend
some brand-spanking new code that doesn&rsquo;t quite work and you know it
doesn&rsquo;t work yet but you want the test system to be less tedious.</p>

<p>What else looks like this?</p>

<ul>
<li><a href="https://circleci.com/">CircleCI</a></li>
<li><a href="https://snap-ci.com/">Snap CI</a> by ThoughtWorks</li>
<li><a href="https://www.solanolabs.com/">Solano</a></li>
<li><a href="http://www.appveyor.com/">Appveyor</a> (for Windows)</li>
<li>Jenkins (self hosted)</li>
</ul>

<p>What does this look like from a workflow perspective? Every time you check in a
file, the whole system builds, and all of the tests you have configured run.
With proper configuration you can build a matrix of versions or configurations
to test, so instead of a test running on a single system it can run on
3x3 or 2x4 or even 3x5x2 configurations.</p>

<h3 id="ruby:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Ruby</h3>

<p>Travis CI&rsquo;s default langauge is Ruby, and a lot of its tooling is written
in Ruby, so its Ruby support is quite good.</p>

<p>Need a bunch of versions of Ruby? Use <code>rvm</code>.</p>

<ul>
<li><a href="http://docs.travis-ci.com/user/languages/ruby/">Building a Ruby Project, Travis CI</a></li>
</ul>

<h3 id="c-and-c:3a8a8bf475b0a53c2eff0d60f4a1b9bf">C and C++</h3>

<p>The version of gcc and g++ on the default systems is 4.6, and you can
pull in 4.8 through &lsquo;apt&rsquo;, but you currently have to pick up 4.8 through
the <code>ubuntu-toolchain-r-test</code> source and not simply by picking a gcc version.</p>

<ul>
<li><a href="https://github.com/rla/fast-feed/blob/master/.travis.yml">rla/fast-feed/.travis.yml</a></li>
</ul>

<h3 id="go-golang:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Go (golang)</h3>

<p>Go (golang) has not gone through a lot of versions yet, and its latest 1.5
build is written in Go. Because the language is so young, there is not lots
of old code to port, and thus not too many version dependencies in libraries
to worry about yet.</p>

<p>Testing two versions of Go (golang) plus Linux and Mac is easy, and the
configuration file doesn&rsquo;t have to do anything funky.</p>

<ul>
<li><a href="https://github.com/miekg/mmark/fast-feed/blob/master/.travis.yml">miekg/mmark/.travis.yml</a></li>
</ul>

<h3 id="nodejs:3a8a8bf475b0a53c2eff0d60f4a1b9bf">NodeJS</h3>

<p>Node 4.0 is new, and the source currently of a fair bit of porting efforts as
a lot of things have broken not in the language but in its libraries. Fortunately,
the nodejs and iojs split has been reconciled, but unfortunately there&rsquo;s about
six months of reunification work to be done.</p>

<p>If you are porting or building to NodeJS 4.0, you have to drag in gcc 4.8. Previous
versions of gcc/g++ aren&rsquo;t capable of coping with the C++11 constructs that are
in V8 and (especially) in <code>nan</code>.</p>

<p>NodeJS 4.0 on Mac? In addition to gcc 4.8, you have to drag in nvm.
The approachable way is to pull in the source from Github that lives
at <code>https://github.com/creationix/nvm.git</code>, build it, and then use the
thing that you just built to subsequently pull in the right version of Node.</p>

<ul>
<li><a href="https://github.com/rla/fast-feed/blob/master/.travis.yml">rla/fast-feed/.travis.yml</a></li>
<li><a href="https://github.com/sass/node-sass/blob/master/.travis.yml">sass/node-sass/.travis.yml</a></li>
</ul>

<h3 id="python:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Python</h3>

<p>Python 2 and Python 3 are both available on Travis CI, including even
the latest Python 3.5.</p>

<p>If you need three versions of Python plus three versions of Django:
use &lsquo;env&rsquo; to drive &lsquo;pip&rsquo;, and &lsquo;matrix&rsquo; to skip some builds where you
know that the combinations don&rsquo;t work.</p>

<ul>
<li>(datadesk/django-softhyphen)</li>
</ul>

<p>Lots and lots of Python versions, with different dependencies for
each version? The <code>tornado</code> package has that.</p>

<ul>
<li>(tornadoweb/tornado)</li>
</ul>

<p>Looking to test Django plus Postgres?</p>

<ul>
<li>(<a href="http://blog.schwuk.com/2014/06/13/using-travis-ci-for-testing-django-projects/">http://blog.schwuk.com/2014/06/13/using-travis-ci-for-testing-django-projects/</a>)</li>
</ul>

<h3 id="java:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Java</h3>

<p>Java is supported.</p>

<p>If you need Java 8 in a particular version, see the below issue on Github Issues.</p>

<ul>
<li><a href="https://github.com/travis-ci/travis-ci/issues/4042">Java 8 version update and bug</a>,
Github issues.</li>
</ul>

<h3 id="fortran:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Fortran</h3>

<p>If you&rsquo;re building scientific codes, Fortran is available through the <code>apt</code>
mechanism.</p>

<h3 id="prolog:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Prolog</h3>

<p>Prolog? Bring it in with apt-add-repository and apt-get. This is illustrative
of Travis CI&rsquo;s ability to incorporate nearly any language, since you can install
new compilers and interpreters via package systems and then run them.</p>

<ul>
<li>(rla/simple-template)</li>
</ul>

<h3 id="multiple-langauges:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Multiple langauges</h3>

<p>Two versions of Go plus Python plus an external dependency that&rsquo;s being flaky?
Use <code>language: python</code> because it&rsquo;s easier to install <code>go</code> from package
managers than it is to drag in the whole complex python multi-version infrastructure
from scratch.</p>

<ul>
<li>(miekg/mmark, in progress)</li>
</ul>

<h3 id="os-x:3a8a8bf475b0a53c2eff0d60f4a1b9bf">OS X</h3>

<p>Use &lsquo;osx_image&rsquo; to tweak the version of &lsquo;osx&rsquo; that you get.</p>

<ul>
<li>(<a href="http://docs.travis-ci.com/user/osx-ci-environment/">http://docs.travis-ci.com/user/osx-ci-environment/</a>)</li>
<li>(<a href="http://blog.travis-ci.com/2015-09-09-xcode7-gm/">http://blog.travis-ci.com/2015-09-09-xcode7-gm/</a>)</li>
</ul>

<h3 id="both-linux-and-mac-in-general:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Both Linux and Mac, in general</h3>

<p>Go is easy. (miekg/mmark)</p>

<p>Node requires bringing in nvm and gcc 4.8. (rla/fastfeed)</p>

<p>Python &hellip; (don&rsquo;t know)</p>

<p>Prolog &hellip; (don&rsquo;t know)</p>

<p>Ruby &hellip; (should work pretty well, but not tested)</p>

<h2 id="acknowledgements:3a8a8bf475b0a53c2eff0d60f4a1b9bf">Acknowledgements</h2>

<p>Thanks to the following people for their help: Raivo Laanemets (@RaivoL),
Mohan Kartha (@mckartha), Chris Dzombak (@cdzombak), &hellip;</p>

    </section>


  <footer class="post-footer">


    

    





<section class="author">
  <h4><a href="http://vielmetti.github.io/"></a></h4>
  
  <p>Read <a href="http://vielmetti.github.io/">more posts</a> by this author.</p>
  
  <div class="author-meta">
    
    
  </div>
</section>



    
    <section class="share">
      <h4>Share this post</h4>
      <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Into%20the%20matrix%20with%20Travis%20CI&amp;url=http%3a%2f%2fvielmetti.github.io%2fpost%2f2015%2f2015-09-16-travis-ci%2f"
          onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <span class="hidden">Twitter</span>
      </a>
      <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fvielmetti.github.io%2fpost%2f2015%2f2015-09-16-travis-ci%2f"
          onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <span class="hidden">Facebook</span>
      </a>
      <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=http%3a%2f%2fvielmetti.github.io%2fpost%2f2015%2f2015-09-16-travis-ci%2f"
         onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
          <span class="hidden">Google+</span>
      </a>
    </section>
    

    
    
    

  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Vacuum weblog from Edward Vielmetti</a> </section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="http://vielmetti.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="http://vielmetti.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="http://vielmetti.github.io/js/index.js"></script>

</body>
</html>

