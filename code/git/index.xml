<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Git on Vacuum weblog from Edward Vielmetti</title>
    <link>http://vielmetti.github.io/code/git/</link>
    <description>Recent content in Git on Vacuum weblog from Edward Vielmetti</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 22 Sep 2015 07:15:00 -0400</lastBuildDate>
    <atom:link href="http://vielmetti.github.io/code/git/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Gogs, a self-hosted Git server</title>
      <link>http://vielmetti.github.io/post/2015/2015-06-27-gogs-a-self-hosted-git-server/</link>
      <pubDate>Sat, 27 Jun 2015 23:06:54 -0400</pubDate>
      
      <guid>http://vielmetti.github.io/post/2015/2015-06-27-gogs-a-self-hosted-git-server/</guid>
      <description>&lt;p&gt;Gogs is a self-hosted Git server, an alternative to using Github as a for-pay hosted service or Gitlab as another self-hosted system. It&#39;s written in the Go language, and is said to be sparing of system resources.&lt;/p&gt;

&lt;p&gt;&lt;a class=&#34;asset-img-link&#34;  href=&#34;http://vielmetti.typepad.com/.a/6a00d8341c4f1a53ef01b7c7a5b824970b-pi&#34;&gt;&lt;img class=&#34;asset  asset-image at-xid-6a00d8341c4f1a53ef01b7c7a5b824970b img-responsive&#34; style=&#34;width: 600px; display: block; margin-left: auto; margin-right: auto;&#34; alt=&#34;Screen Shot 2015-06-27 at 11.01.35 PM&#34; title=&#34;Screen Shot 2015-06-27 at 11.01.35 PM&#34; src=&#34;http://vielmetti.typepad.com/.a/6a00d8341c4f1a53ef01b7c7a5b824970b-600wi&#34; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;I&#39;m building it using Docker on a Raspberry Pi 2, thanks to the folks at Hypriot; the writeup is &lt;a href=&#34;http://blog.hypriot.com/post/run-your-own-github-like-service-with-docker/&#34;&gt;Run your own GitHub-like service with the help of Docker&lt;/a&gt;, and the file on Dockerhub is at &lt;a href=&#34;https://registry.hub.docker.com/u/hypriot/rpi-gogs-raspbian/&#34;&gt;hypriot/rpi-gogs-raspbian&lt;/a&gt;. The install went essentially as described; note that if you are using Avahi to provide a .local name service, you can avoid using IP addresses in configuration files and instead use names like &#34;black-pearl.local&#34; as your hostname.&lt;/p&gt;

&lt;p&gt;Juan B. Rodriguez did a nice writeup of &lt;a href=&#34;http://jbrodriguez.io/gogs-an-alternative-to-gitlab/&#34;&gt;Gogs, an alternative to Gitlab&lt;/a&gt;, again with a Docker based installation description and a nice feature comparison.&lt;/p&gt;

&lt;p&gt;After some poking around with Gogs I noted three substantial limitations, none of which are complete show-stoppers but which collectively give me pause about doing a wholesale replacement of Github with Gogs; and a fourth that gives me hope for some project that might address these issues but which might not end up being called Gogs.&lt;/p&gt;

&lt;p&gt;First, there&#39;s no built-in wiki. I don&#39;t always use a wiki with a Github repository, and when I do I&#39;m not always thrilled by the minimalist features of Github&#39;s wiki, but it&#39;s mighty handy and I miss it right away. Gogs doesn&#39;t have a wiki, and though it&#39;s been an acknowledged issue for a long time it doesn&#39;t seem to have any forward movement.&lt;/p&gt;

&lt;p&gt;Second, there&#39;s no built-in file editor. I&#39;m very used to the workflow where you see a file that has some small problem, you fork the repository right in the editor, type in your fix, save, and submit your patch to the maintainers. It&#39;s a very straightforward way of doing small things efficiently without dropping down to the command line, and the lack of it makes Gogs hard to understand how it would work in a mostly-web world.&lt;/p&gt;

&lt;p&gt;Third, Gogs has a lot of obvious copying from Github, and I&#39;m uncertain about the whole ethos of wholesale replication of documentation. Sometimes there&#39;s not even an effort made to document what the system does and instead there&#39;s just a link to Github documentation. Self-hosted systems should have self-hosted documentation, and even if you&#39;re replicating someone else&#39;s system faithfully you still need to write up your own docs.&lt;/p&gt;

&lt;p&gt;Fourth and finally, Gogs has been forked. &#34;gitea&#34; is &#34;Git with a cup of tea&#34;, and it seems to have a bunch of energy to fix things that the Gogs project is currently lacking. See &lt;a href=&#34;https://github.com/go-gitea/gitea&#34;&gt;the gitea project on Github&lt;/a&gt; and its corresponding &lt;a href=&#34;https://gitter.im/go-gitea/gitea&#34;&gt;gitter chat for gitea&lt;/a&gt;. gitea has not produced a release yet, but when it does I&#39;ll be sure to look for a reasonable packaging of it to try it out.&lt;/p&gt;

&lt;p&gt;All of that said, I&#39;m happy to have found Gogs, and plan to poke through it some more and store some not-very-important files in it for a while until I get some confidence in it. I don&#39;t think it (or gitea) is an instant replacement for my hosted Github service, but for the narrow purpose of holding a private repository beyond what Github provides for its service plan it looks like a reasonable alternative now.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to squash a commit in git</title>
      <link>http://vielmetti.github.io/post/2015/2015-09-22-git-squash/</link>
      <pubDate>Tue, 22 Sep 2015 07:15:00 -0400</pubDate>
      
      <guid>http://vielmetti.github.io/post/2015/2015-09-22-git-squash/</guid>
      <description>

&lt;p&gt;If you are working on a project in Github, your work isn&amp;rsquo;t always linear.
Sometimes the change you make doesn&amp;rsquo;t work completely, so you back a little
bit of it out and move forward on a next part. It may take some hacking and
sawing (and testing of course) to get a change that just works right.&lt;/p&gt;

&lt;p&gt;Projects like to have contributions, but project maintainers don&amp;rsquo;t like
to insert noise into their efforts. The ideal commit to a project is
completely clean: one single commit that incorporates all of the changes
that you want to do, without any of the intervening cruft.&lt;/p&gt;

&lt;p&gt;Thanks to Alan Gutierrez for the help here.&lt;/p&gt;

&lt;p&gt;In the lingo, this is known as &amp;ldquo;squashing a commit&amp;rdquo;. It turns
&lt;code&gt;A-&amp;gt;B-&amp;gt;C-&amp;gt;D-&amp;gt;X-&amp;gt;Y-&amp;gt;Z&lt;/code&gt; into &lt;code&gt;A-&amp;gt;Z&lt;/code&gt;. Here&amp;rsquo;s how you do it.&lt;/p&gt;

&lt;p&gt;First, set up your environment before you start to work. Create a branch
to put your changes in and work within that branch. You can do all of that
from within Github, or from the command line as&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;% git checkout -b try/branch
Switched to a new branch &#39;try/branch&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;When you&amp;rsquo;re ready to merge, create a pull request for that branch.
That will gather together all of the changes you have made and drop
them onto a single page for inspection. Look at the first change that
you made in that sequence, and find the parent node for your first
change; we&amp;rsquo;ll rebase off of that parent. This was the crucial bit
that I was unable to figure out from the documentation.&lt;/p&gt;

&lt;p&gt;Squash all of those commits for the branch
into a single commit. There is no &lt;code&gt;git squash&lt;/code&gt; command, alas; but there
is &lt;code&gt;git rebase -i&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;% git rebase -i &amp;lt;after-this-commit&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Next, apply this single squashed commit to your master branch.&lt;/p&gt;

&lt;h3 id=&#34;further-reading:d402ad0362f9cb748dc3191a35343d42&#34;&gt;Further reading:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;From Git Ready: &lt;a href=&#34;http://gitready.com/advanced/2009/02/10/squashing-commits-with-rebase.html&#34;&gt;Squashing commits with rebase&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Makandra Cards: &lt;a href=&#34;http://makandracards.com/makandra/527-squash-several-git-commits-into-a-single-commit&#34;&gt;Squash several Git commits into a single commit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;David Walsh: &lt;a href=&#34;http://davidwalsh.name/squash-commits-git&#34;&gt;Squash commits with Git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Pro Git,  Scott Chacon and Ben Straub: &lt;a href=&#34;http://www.git-scm.com/book/en/v2/Git-Tools-Rewriting-History&#34;&gt;Git Tools - Rewriting History&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>that new computer smell</title>
      <link>http://vielmetti.github.io/post/2014/2014-09-30-that-new-computer-smell/</link>
      <pubDate>Tue, 30 Sep 2014 14:11:44 +0000</pubDate>
      
      <guid>http://vielmetti.github.io/post/2014/2014-09-30-that-new-computer-smell/</guid>
      <description>&lt;p&gt;I won&#39;t be complaining about a small keyboard or a small screen for a while, but I have a lot of tools to reinstall on a new system.&lt;/p&gt;

&lt;p&gt;In order of appearance:&lt;/p&gt;

&lt;p&gt;Chrome, first thing. I like Safari enough in a pinch, but when it comes time to sync up my working environment, Chrome is what I need. A bonus on this system is that there&#39;s a working full-screen mode.&lt;/p&gt;

&lt;p&gt;git comes with the machine, so I didn&#39;t have to install it; it&#39;s a big part of making sure that stuff gets version tracked.&lt;/p&gt;

&lt;p&gt;Node-RED. I need to have a simple programming environment that is network and device aware, and for the past few months Node-RED has been it. I&#39;m at version 0.9.0 now. That depends first on having node.js installed, and subsequently on pulling in a lot of Node-RED dependencies.&lt;/p&gt;

&lt;p&gt;Contacts. I&#39;ve synced Google Contacts with the Apple address book; that took an extra step since I&#39;m using 2-factor authentication at Google. The CardDAV support is new to me.&lt;/p&gt;

&lt;p&gt;Dropbox. Plug it in, it just works. Next.&lt;/p&gt;

&lt;p&gt;Google Drive. Plug it in, it seems to work; lots to sync including a lot of photos and a lot of unsorted old crap.&lt;/p&gt;

&lt;p&gt;One of the things I&#39;m realizing is that yes, there&#39;s lots of &#34;unsorted old crap&#34; on this which is still a new machine. &lt;/p&gt;

&lt;p&gt;XCode, that&#39;s a mighty big download.&lt;/p&gt;

&lt;p&gt;Apple Software Update is patching the shellshock vulnerability, I hope.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>