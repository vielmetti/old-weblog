<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Travisci on Vacuum weblog from Edward Vielmetti</title>
    <link>http://vielmetti.github.io/code/travisci/</link>
    <description>Recent content in Travisci on Vacuum weblog from Edward Vielmetti</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 20 Sep 2015 09:00:00 -0400</lastBuildDate>
    <atom:link href="http://vielmetti.github.io/code/travisci/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>AWS DynamoDB downtime, Sunday am, September 20, 2015</title>
      <link>http://vielmetti.github.io/post/2015/2015-09-20-aws-dynamodb-downtime-sunday-am/</link>
      <pubDate>Sun, 20 Sep 2015 09:00:00 -0400</pubDate>
      
      <guid>http://vielmetti.github.io/post/2015/2015-09-20-aws-dynamodb-downtime-sunday-am/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;A distributed system is one in which the failure of a computer
you didn&amp;rsquo;t even know existed can render your own computer unusable.
&lt;a href=&#34;http://research.microsoft.com/en-us/um/people/lamport/pubs/distributed-system.txt&#34;&gt;Leslie Lamport, 1987&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Amazon Web Services DynamoDB experienced downtime in the N Virginia
availability zone early Sunday morning, September 20, 2015. As
a result, a number of other AWS services inside N Virginia that
depend on DynamoDB also had downtime. Companies and organizations
that built services on top of those systems who didn&amp;rsquo;t have
geographic load balancing were having problems as well.&lt;/p&gt;

&lt;p&gt;Affected services include at least CloudWatch, SES, SNS, SQS, SWS,
AutoScale, Cloud Formation, Directory Service, Key Mgmt and Lambda,
according to a report on Hacker News.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://status.aws.amazon.com/&#34;&gt;http://status.aws.amazon.com/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Reports from &lt;a href=&#34;https://www.twitter.com/ylastic&#34;&gt;@ylastic&lt;/a&gt; on Twitter
have been helpful in keeping track of outages. &lt;a href=&#34;http://www.ylastic.com&#34;&gt;http://www.ylastic.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Down Detector has a page of AWS outages trouble reports, and
details pulled from Twitter. &lt;a href=&#34;https://downdetector.com/status/aws-amazon-web-services&#34;&gt;https://downdetector.com/status/aws-amazon-web-services&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When core infrastructure goes down, it tends to affect other platforms
that depend on that core infrastructure and that hide it from their
users. This in turn affects applications built on those platforms.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Docker: &amp;ldquo;We are currently seeing intermittent errors when pushing
and pulling, related to issues that AWS is having. We are currently
investigating the causes, and doing what we can to mitigate the
problems.&amp;rdquo; @dockerstatus and &lt;a href=&#34;http://status.docker.com/&#34;&gt;http://status.docker.com/&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Heroku: &amp;ldquo;Starting new dynos (unidling, one-off, scaling or
restarting crashed apps, new releases) is still unavailable.&amp;rdquo;
@herokustatus and &lt;a href=&#34;https://status.heroku.com/incidents/811&#34;&gt;https://status.heroku.com/incidents/811&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;CircleCI: &amp;ldquo;Experiencing Issues with Heroku and AWS&amp;rdquo;. @circleci
and &lt;a href=&#34;http://status.circleci.com/&#34;&gt;http://status.circleci.com/&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;TravisCI: &amp;ldquo;Partial System Outage&amp;rdquo;. @traviscistatus and
&lt;a href=&#34;https://www.traviscistatus.com/&#34;&gt;https://www.traviscistatus.com/&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There are a lot of applications built on AWS and on Heroku,
which are at risk of downtime. A comprehensive list is probably
impossible, but here are some reports, in alphabetical order.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Amazon Instant Video&lt;/li&gt;
&lt;li&gt;AWS Support Tickets. Use this &lt;a href=&#34;http://www.amazon.com/gp/html-forms-controller/support-center-issues-u&#34;&gt;workaround&lt;/a&gt; ???&lt;/li&gt;
&lt;li&gt;Canva&lt;/li&gt;
&lt;li&gt;CoinSimple. &amp;ldquo;Widespread outage in Amazon Web Services is affecting several Internet services, including @CoinSimple. Please check here for updates.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;DuoLingo&lt;/li&gt;
&lt;li&gt;IMDB&lt;/li&gt;
&lt;li&gt;Mediacom&lt;/li&gt;
&lt;li&gt;Medium. &amp;ldquo;Identified - We&amp;rsquo;re working to fix a major outage and will be back online as soon as possible.&amp;rdquo; &lt;a href=&#34;https://medium.statuspage.io/&#34;&gt;https://medium.statuspage.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Nest. &amp;ldquo;Weâ€™re investigating a service outage with the Nest mobile app and Cam services, and the team is working on a fix. Details to come.&amp;rdquo; &lt;a href=&#34;https://nest.com/support/#status&#34;&gt;https://nest.com/support/#status&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Netflix. &amp;ldquo;We are currently experiencing issues streaming on all devices.
We are working to resolve the problem. We apologize for any inconvenience.&amp;rdquo; &lt;a href=&#34;https://help.netflix.com/help&#34;&gt;https://help.netflix.com/help&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Pocket&lt;/li&gt;
&lt;li&gt;Takipi. &amp;ldquo;Due to an AWS outage, we&amp;rsquo;re experiencing some slowness and connectivity issues. Stay tuned for updates&amp;rdquo;.&lt;/li&gt;
&lt;li&gt;Viber. &amp;ldquo;We are experiencing disruptions in our service. We are working to resolve this issue. Sorry for the inconvenience.&amp;rdquo; &lt;a href=&#34;https://support.viber.com/&#34;&gt;https://support.viber.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Wink.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Follow the discussion on Twitter on the #AWS hashtag.&lt;/p&gt;

&lt;p&gt;This &lt;a href=&#34;https://news.ycombinator.com/item?id=10247307&#34;&gt;Hacker News discussion&lt;/a&gt;
is a good one as startups radio in their woes.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Into the matrix with Travis CI</title>
      <link>http://vielmetti.github.io/post/2015/2015-09-16-travis-ci/</link>
      <pubDate>Wed, 16 Sep 2015 09:22:00 -0400</pubDate>
      
      <guid>http://vielmetti.github.io/post/2015/2015-09-16-travis-ci/</guid>
      <description>

&lt;p&gt;Travis CI is a continuous integration tool, a description which means nothing
to people who have never used it. &amp;ldquo;Continuous integration&amp;rdquo; is one of these
industry phrases that doesn&amp;rsquo;t serve to illuminate the problem that it describes.&lt;/p&gt;

&lt;p&gt;Why would you care? Well, you&amp;rsquo;re working on a project with a bunch of other
people, and it&amp;rsquo;s kind of complicated. It might depend on some
&lt;a href=&#34;http://vielmetti.github.io/post/2015/2015-09-14-old-code-and-old-tools/&#34;&gt;old code&lt;/a&gt;
that&amp;rsquo;s fragile and should be tested all the time when it changes, or it might depend
some brand-spanking new code that doesn&amp;rsquo;t quite work and you know it
doesn&amp;rsquo;t work yet but you want the test system to be less tedious.&lt;/p&gt;

&lt;p&gt;What else looks like this?&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://circleci.com/&#34;&gt;CircleCI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.solanolabs.com/&#34;&gt;Solano&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.appveyor.com/&#34;&gt;Appveyor&lt;/a&gt; (for Windows)&lt;/li&gt;
&lt;li&gt;Jenkins (self hosted)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;What does this look like from a workflow perspective? Every time you check in a
file, the whole system builds, and all of the tests you have configured run.
With proper configuration you can build a matrix of versions or configurations
to test, so instead of a test running on a single system it can run on
3x3 or 2x4 or even 3x5x2 configurations.&lt;/p&gt;

&lt;h3 id=&#34;ruby:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;Ruby&lt;/h3&gt;

&lt;p&gt;Travis CI&amp;rsquo;s default langauge is Ruby, and a lot of its tooling is written
in Ruby, so its Ruby support is quite good.&lt;/p&gt;

&lt;p&gt;Need a bunch of versions of Ruby? Use &lt;code&gt;rvm&lt;/code&gt;.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://docs.travis-ci.com/user/languages/ruby/&#34;&gt;Building a Ruby Project, Travis CI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;c-and-c:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;C and C++&lt;/h3&gt;

&lt;p&gt;The version of gcc and g++ on the default systems is 4.6, and you can
pull in 4.8 through &amp;lsquo;apt&amp;rsquo;, but you currently have to pick up 4.8 through
the &lt;code&gt;ubuntu-toolchain-r-test&lt;/code&gt; source and not simply by picking a gcc version.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/rla/fast-feed/blob/master/.travis.yml&#34;&gt;rla/fast-feed/.travis.yml&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;go-golang:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;Go (golang)&lt;/h3&gt;

&lt;p&gt;Go (golang) has not gone through a lot of versions yet, and its latest 1.5
build is written in Go. Because the language is so young, there is not lots
of old code to port, and thus not too many version dependencies in libraries
to worry about yet.&lt;/p&gt;

&lt;p&gt;Testing two versions of Go (golang) plus Linux and Mac is easy, and the
configuration file doesn&amp;rsquo;t have to do anything funky.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/miekg/mmark/fast-feed/blob/master/.travis.yml&#34;&gt;miekg/mmark/.travis.yml&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;nodejs:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;NodeJS&lt;/h3&gt;

&lt;p&gt;Node 4.0 is new, and the source currently of a fair bit of porting efforts as
a lot of things have broken not in the language but in its libraries. Fortunately,
the nodejs and iojs split has been reconciled, but unfortunately there&amp;rsquo;s about
six months of reunification work to be done.&lt;/p&gt;

&lt;p&gt;If you are porting or building to NodeJS 4.0, you have to drag in gcc 4.8. Previous
versions of gcc/g++ aren&amp;rsquo;t capable of coping with the C++11 constructs that are
in V8 and (especially) in &lt;code&gt;nan&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;NodeJS 4.0 on Mac? In addition to gcc 4.8, you have to drag in nvm.
The approachable way is to pull in the source from Github that lives
at &lt;code&gt;https://github.com/creationix/nvm.git&lt;/code&gt;, build it, and then use the
thing that you just built to subsequently pull in the right version of Node.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/rla/fast-feed/blob/master/.travis.yml&#34;&gt;rla/fast-feed/.travis.yml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/sass/node-sass/blob/master/.travis.yml&#34;&gt;sass/node-sass/.travis.yml&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;python:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;Python&lt;/h3&gt;

&lt;p&gt;Python 2 and Python 3 are both available on Travis CI, including even
the latest Python 3.5.&lt;/p&gt;

&lt;p&gt;If you need three versions of Python plus three versions of Django:
use &amp;lsquo;env&amp;rsquo; to drive &amp;lsquo;pip&amp;rsquo;, and &amp;lsquo;matrix&amp;rsquo; to skip some builds where you
know that the combinations don&amp;rsquo;t work.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(datadesk/django-softhyphen)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Lots and lots of Python versions, with different dependencies for
each version? The &lt;code&gt;tornado&lt;/code&gt; package has that.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(tornadoweb/tornado)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Looking to test Django plus Postgres?&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(&lt;a href=&#34;http://blog.schwuk.com/2014/06/13/using-travis-ci-for-testing-django-projects/&#34;&gt;http://blog.schwuk.com/2014/06/13/using-travis-ci-for-testing-django-projects/&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;java:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;Java&lt;/h3&gt;

&lt;p&gt;Java is supported.&lt;/p&gt;

&lt;p&gt;If you need Java 8 in a particular version, see the below issue on Github Issues.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/travis-ci/travis-ci/issues/4042&#34;&gt;Java 8 version update and bug&lt;/a&gt;,
Github issues.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;fortran:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;Fortran&lt;/h3&gt;

&lt;p&gt;If you&amp;rsquo;re building scientific codes, Fortran is available through the &lt;code&gt;apt&lt;/code&gt;
mechanism.&lt;/p&gt;

&lt;h3 id=&#34;prolog:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;Prolog&lt;/h3&gt;

&lt;p&gt;Prolog? Bring it in with apt-add-repository and apt-get. This is illustrative
of Travis CI&amp;rsquo;s ability to incorporate nearly any language, since you can install
new compilers and interpreters via package systems and then run them.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(rla/simple-template)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;multiple-langauges:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;Multiple langauges&lt;/h3&gt;

&lt;p&gt;Two versions of Go plus Python plus an external dependency that&amp;rsquo;s being flaky?
Use &lt;code&gt;language: python&lt;/code&gt; because it&amp;rsquo;s easier to install &lt;code&gt;go&lt;/code&gt; from package
managers than it is to drag in the whole complex python multi-version infrastructure
from scratch.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(miekg/mmark, in progress)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;os-x:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;OS X&lt;/h3&gt;

&lt;p&gt;Use &amp;lsquo;osx_image&amp;rsquo; to tweak the version of &amp;lsquo;osx&amp;rsquo; that you get.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(&lt;a href=&#34;http://docs.travis-ci.com/user/osx-ci-environment/&#34;&gt;http://docs.travis-ci.com/user/osx-ci-environment/&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;(&lt;a href=&#34;http://blog.travis-ci.com/2015-09-09-xcode7-gm/&#34;&gt;http://blog.travis-ci.com/2015-09-09-xcode7-gm/&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;both-linux-and-mac-in-general:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;Both Linux and Mac, in general&lt;/h3&gt;

&lt;p&gt;Go is easy. (miekg/mmark)&lt;/p&gt;

&lt;p&gt;Node requires bringing in nvm and gcc 4.8. (rla/fastfeed)&lt;/p&gt;

&lt;p&gt;Python &amp;hellip; (don&amp;rsquo;t know)&lt;/p&gt;

&lt;p&gt;Prolog &amp;hellip; (don&amp;rsquo;t know)&lt;/p&gt;

&lt;p&gt;Ruby &amp;hellip; (should work pretty well, but not tested)&lt;/p&gt;

&lt;h2 id=&#34;acknowledgements:3a8a8bf475b0a53c2eff0d60f4a1b9bf&#34;&gt;Acknowledgements&lt;/h2&gt;

&lt;p&gt;Thanks to the following people for their help: Raivo Laanemets (@RaivoL),
Mohan Kartha (@mckartha), Chris Dzombak (@cdzombak), &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>